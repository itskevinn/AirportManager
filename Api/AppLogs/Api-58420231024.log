2023-10-24 17:22:58.155 -05:00 [INF] Entity Framework Core 6.0.5 initialized 'PersistenceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.5' with options: MigrationsHistoryTable=Airport._MigrationHistory 
2023-10-24 17:22:58.565 -05:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [FlightsManagement];
2023-10-24 17:22:58.613 -05:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [FlightsManagement] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-10-24 17:22:58.626 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-24 17:22:58.698 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF SCHEMA_ID(N'Airport') IS NULL EXEC(N'CREATE SCHEMA [Airport];');
CREATE TABLE [Airport].[_MigrationHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK__MigrationHistory] PRIMARY KEY ([MigrationId])
);
2023-10-24 17:22:58.701 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-10-24 17:22:58.713 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[Airport].[_MigrationHistory]');
2023-10-24 17:22:58.722 -05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [Airport].[_MigrationHistory]
ORDER BY [MigrationId];
2023-10-24 17:22:58.735 -05:00 [INF] Applying migration '20220515191925_InitialCreate'.
2023-10-24 17:22:58.783 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF SCHEMA_ID(N'Airport') IS NULL EXEC(N'CREATE SCHEMA [Airport];');
2023-10-24 17:22:58.787 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[Airline] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_Airline] PRIMARY KEY ([Id])
);
2023-10-24 17:22:58.790 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[City] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_City] PRIMARY KEY ([Id])
);
2023-10-24 17:22:58.793 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[MenuItem] (
    [Id] uniqueidentifier NOT NULL,
    [Icon] nvarchar(max) NOT NULL,
    [RouterLink] nvarchar(max) NOT NULL,
    [Label] nvarchar(max) NOT NULL,
    [Order] int NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_MenuItem] PRIMARY KEY ([Id])
);
2023-10-24 17:22:58.795 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[Role] (
    [Id] uniqueidentifier NOT NULL,
    [RoleName] nvarchar(max) NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_Role] PRIMARY KEY ([Id])
);
2023-10-24 17:22:58.798 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[User] (
    [Id] uniqueidentifier NOT NULL,
    [Name] nvarchar(max) NOT NULL,
    [Username] nvarchar(max) NOT NULL,
    [pazzword] nvarchar(max) NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_User] PRIMARY KEY ([Id])
);
2023-10-24 17:22:58.805 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[Flight] (
    [Id] uniqueidentifier NOT NULL,
    [AirlineId] uniqueidentifier NOT NULL,
    [CheckInTime] nvarchar(max) NOT NULL,
    [CheckOutTime] nvarchar(max) NOT NULL,
    [DepartureCityId] uniqueidentifier NOT NULL,
    [DestinyCityId] uniqueidentifier NOT NULL,
    [CheckOutDate] datetime2 NOT NULL,
    [FlightStatus] nvarchar(max) NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NOT NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_Flight] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Flight_Airline_AirlineId] FOREIGN KEY ([AirlineId]) REFERENCES [Airport].[Airline] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Flight_City_DepartureCityId] FOREIGN KEY ([DepartureCityId]) REFERENCES [Airport].[City] ([Id]),
    CONSTRAINT [FK_Flight_City_DestinyCityId] FOREIGN KEY ([DestinyCityId]) REFERENCES [Airport].[City] ([Id])
);
2023-10-24 17:22:58.810 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[MenuItemRole] (
    [MenuItemId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [Id] uniqueidentifier NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_MenuItemRole] PRIMARY KEY ([RoleId], [MenuItemId]),
    CONSTRAINT [FK_MenuItemRole_MenuItem_MenuItemId] FOREIGN KEY ([MenuItemId]) REFERENCES [Airport].[MenuItem] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_MenuItemRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Airport].[Role] ([Id]) ON DELETE CASCADE
);
2023-10-24 17:22:58.813 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Airport].[UserRole] (
    [UserId] uniqueidentifier NOT NULL,
    [RoleId] uniqueidentifier NOT NULL,
    [Id] uniqueidentifier NOT NULL,
    [Status] bit NOT NULL,
    [CreatedBy] nvarchar(35) NULL,
    [UpdatedBy] nvarchar(35) NULL,
    [CreatedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    [LastModifiedOn] datetime2 NOT NULL DEFAULT (GETDATE()),
    CONSTRAINT [PK_UserRole] PRIMARY KEY ([RoleId], [UserId]),
    CONSTRAINT [FK_UserRole_Role_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Airport].[Role] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRole_User_UserId] FOREIGN KEY ([UserId]) REFERENCES [Airport].[User] ([Id]) ON DELETE CASCADE
);
2023-10-24 17:22:58.838 -05:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'Icon', N'Label', N'Order', N'RouterLink', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[MenuItem]'))
    SET IDENTITY_INSERT [Airport].[MenuItem] ON;
INSERT INTO [Airport].[MenuItem] ([Id], [CreatedBy], [Icon], [Label], [Order], [RouterLink], [Status], [UpdatedBy])
VALUES ('012fff70-84e2-4962-84a3-3b7833bb71fb', N'AutoGenerated', N'fa-solid fa-house', N'Inicio', 0, N'home', CAST(1 AS bit), N'AutoGenerated'),
('0b63d953-fce2-4538-ba1d-0537680130ae', N'AutoGenerated', N'fa-solid fa-city', N'Ciudades', 3, N'cities', CAST(1 AS bit), N'AutoGenerated'),
('504731d4-0a34-41d5-9b0b-0611b3f76096', N'AutoGenerated', N'fa-solid fa-plane-departure', N'Vuelos', 1, N'flights', CAST(1 AS bit), N'AutoGenerated'),
('a10dafa8-c540-4509-a08f-d8fe5ded1995', N'AutoGenerated', N'fa-solid fa-plane', N'Aereolíneas', 2, N'airlines', CAST(1 AS bit), N'AutoGenerated');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'Icon', N'Label', N'Order', N'RouterLink', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[MenuItem]'))
    SET IDENTITY_INSERT [Airport].[MenuItem] OFF;
2023-10-24 17:22:58.849 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'RoleName', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[Role]'))
    SET IDENTITY_INSERT [Airport].[Role] ON;
INSERT INTO [Airport].[Role] ([Id], [CreatedBy], [RoleName], [Status], [UpdatedBy])
VALUES ('4a77cee4-5cfa-4c90-b41a-08da36159111', N'AutoGenerated', N'User', CAST(1 AS bit), N'AutoGenerated'),
('bf1de1aa-fc78-4b92-6942-08da36131198', N'AutoGenerated', N'Admin', CAST(1 AS bit), N'AutoGenerated');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'RoleName', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[Role]'))
    SET IDENTITY_INSERT [Airport].[Role] OFF;
2023-10-24 17:22:58.860 -05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'Name', N'pazzword', N'Status', N'UpdatedBy', N'Username') AND [object_id] = OBJECT_ID(N'[Airport].[User]'))
    SET IDENTITY_INSERT [Airport].[User] ON;
INSERT INTO [Airport].[User] ([Id], [CreatedBy], [Name], [pazzword], [Status], [UpdatedBy], [Username])
VALUES ('4a77cee4-5cfa-4c90-b41a-08da36159120', N'AutoGenerated', N'Kevin Pontón', N'8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918', CAST(1 AS bit), N'AutoGenerated', N'Admin'),
('c82a18c6-e473-4976-5f2e-08da35e4eb6f', N'AutoGenerated', N'Usuario', N'03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', CAST(1 AS bit), N'AutoGenerated', N'User');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'CreatedBy', N'Name', N'pazzword', N'Status', N'UpdatedBy', N'Username') AND [object_id] = OBJECT_ID(N'[Airport].[User]'))
    SET IDENTITY_INSERT [Airport].[User] OFF;
2023-10-24 17:22:58.874 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuItemId', N'RoleId', N'CreatedBy', N'Id', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[MenuItemRole]'))
    SET IDENTITY_INSERT [Airport].[MenuItemRole] ON;
INSERT INTO [Airport].[MenuItemRole] ([MenuItemId], [RoleId], [CreatedBy], [Id], [Status], [UpdatedBy])
VALUES ('012fff70-84e2-4962-84a3-3b7833bb71fb', '4a77cee4-5cfa-4c90-b41a-08da36159111', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4eb8b', CAST(1 AS bit), N'AutoGenerated'),
('504731d4-0a34-41d5-9b0b-0611b3f76096', '4a77cee4-5cfa-4c90-b41a-08da36159111', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4eb8a', CAST(1 AS bit), N'AutoGenerated'),
('012fff70-84e2-4962-84a3-3b7833bb71fb', 'bf1de1aa-fc78-4b92-6942-08da36131198', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4eb8e', CAST(1 AS bit), N'AutoGenerated'),
('0b63d953-fce2-4538-ba1d-0537680130ae', 'bf1de1aa-fc78-4b92-6942-08da36131198', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4ebef', CAST(1 AS bit), N'AutoGenerated'),
('504731d4-0a34-41d5-9b0b-0611b3f76096', 'bf1de1aa-fc78-4b92-6942-08da36131198', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4ebfe', CAST(1 AS bit), N'AutoGenerated'),
('a10dafa8-c540-4509-a08f-d8fe5ded1995', 'bf1de1aa-fc78-4b92-6942-08da36131198', N'AutoGenerated', 'c82a18c6-e473-4976-5f2e-08da35e4eb1a', CAST(1 AS bit), N'AutoGenerated');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'MenuItemId', N'RoleId', N'CreatedBy', N'Id', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[MenuItemRole]'))
    SET IDENTITY_INSERT [Airport].[MenuItemRole] OFF;
2023-10-24 17:22:58.888 -05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId', N'CreatedBy', N'Id', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[UserRole]'))
    SET IDENTITY_INSERT [Airport].[UserRole] ON;
INSERT INTO [Airport].[UserRole] ([RoleId], [UserId], [CreatedBy], [Id], [Status], [UpdatedBy])
VALUES ('4a77cee4-5cfa-4c90-b41a-08da36159111', 'c82a18c6-e473-4976-5f2e-08da35e4eb6f', N'AutoGenerated', 'bf1de1aa-fc78-4b92-6942-09da3e131298', CAST(1 AS bit), N'AutoGenerated'),
('bf1de1aa-fc78-4b92-6942-08da36131198', '4a77cee4-5cfa-4c90-b41a-08da36159120', N'AutoGenerated', 'bf1de1aa-fc78-4b92-6942-09da36131298', CAST(1 AS bit), N'AutoGenerated');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'RoleId', N'UserId', N'CreatedBy', N'Id', N'Status', N'UpdatedBy') AND [object_id] = OBJECT_ID(N'[Airport].[UserRole]'))
    SET IDENTITY_INSERT [Airport].[UserRole] OFF;
2023-10-24 17:22:58.891 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flight_AirlineId] ON [Airport].[Flight] ([AirlineId]);
2023-10-24 17:22:58.894 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flight_DepartureCityId] ON [Airport].[Flight] ([DepartureCityId]);
2023-10-24 17:22:58.896 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Flight_DestinyCityId] ON [Airport].[Flight] ([DestinyCityId]);
2023-10-24 17:22:58.900 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_MenuItemRole_MenuItemId] ON [Airport].[MenuItemRole] ([MenuItemId]);
2023-10-24 17:22:58.903 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRole_UserId] ON [Airport].[UserRole] ([UserId]);
2023-10-24 17:22:58.906 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Airport].[_MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220515191925_InitialCreate', N'6.0.5');
2023-10-24 17:22:58.911 -05:00 [INF] Applying migration '20221025210151_Role and User tables name changed'.
2023-10-24 17:22:58.923 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Airport].[MenuItemRole] DROP CONSTRAINT [FK_MenuItemRole_Role_RoleId];
2023-10-24 17:22:58.925 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Airport].[UserRole] DROP CONSTRAINT [FK_UserRole_Role_RoleId];
2023-10-24 17:22:58.927 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Airport].[UserRole] DROP CONSTRAINT [FK_UserRole_User_UserId];
2023-10-24 17:22:58.930 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Airport].[User] DROP CONSTRAINT [PK_User];
2023-10-24 17:22:58.931 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Airport].[Role] DROP CONSTRAINT [PK_Role];
2023-10-24 17:22:58.936 -05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[UserRole];');
2023-10-24 17:22:58.939 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[MenuItemRole];');
2023-10-24 17:22:58.941 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[MenuItem];');
2023-10-24 17:22:58.944 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[Flight];');
2023-10-24 17:22:58.947 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[City];');
2023-10-24 17:22:58.949 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[Airline];');
2023-10-24 17:22:59.154 -05:00 [INF] Executed DbCommand (204ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Airport].[User]', N'Users';
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[Users];');
2023-10-24 17:22:59.157 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Airport].[Role]', N'Roles';
DECLARE @defaultSchema sysname = SCHEMA_NAME();
EXEC(N'ALTER SCHEMA [' + @defaultSchema + N'] TRANSFER [Airport].[Roles];');
2023-10-24 17:22:59.161 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD CONSTRAINT [PK_Users] PRIMARY KEY ([Id]);
2023-10-24 17:22:59.164 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Roles] ADD CONSTRAINT [PK_Roles] PRIMARY KEY ([Id]);
2023-10-24 17:22:59.168 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [MenuItemRole] ADD CONSTRAINT [FK_MenuItemRole_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE;
2023-10-24 17:22:59.171 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [UserRole] ADD CONSTRAINT [FK_UserRole_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([Id]) ON DELETE CASCADE;
2023-10-24 17:22:59.174 -05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [UserRole] ADD CONSTRAINT [FK_UserRole_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2023-10-24 17:22:59.176 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Airport].[_MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20221025210151_Role and User tables name changed', N'6.0.5');
2023-10-24 17:22:59.178 -05:00 [INF] Applying migration '20230614184928_Initial Migration'.
2023-10-24 17:22:59.187 -05:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [Airport].[_MigrationHistory] ([MigrationId], [ProductVersion])
VALUES (N'20230614184928_Initial Migration', N'6.0.5');
